<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Widgetor - Projects</title>

    <!-- fontawesome -->
    <script
      src="https://kit.fontawesome.com/0c4a005ebc.js"
      crossorigin="anonymous"
    ></script>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="nstatic/css/variable.css" />
    <link rel="stylesheet" href="nstatic/css/style.css" />

    <!-- Jquery -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
      integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Bootstarp -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <section class="mainSection">
      <header id="header"></header>
      <div class="mainContent">
        <div id="sidebar"></div>

        <div class="w-100">
          <div
            class="w-100 d-flex justify-content-between align-content-center px-5 py-3"
            style="background-color: #92798b; color: #fff"
          >
            <div><h4>Projects</h4></div>
          </div>
          <div class="section w-100vw">
            <div>
              <h3 class="dataworks_title">Ready projects</h3>
              <div class="projects_section">
                <div class="projects projects_div" projectToggle="1">
                  <label class="switch_data">
                    <input
                      type="checkbox"
                      id="toggleProject"
                      projectToggle="1"
                    />
                    <span class="switchSlider"> </span>
                  </label>

                  <div class="project_name">
                    <a href="projectdetail.html" class="href">
                      <h3 class="projectname" project="1">SAPAPP</h3>
                      <p>Data Sources: 2</p>
                    </a>

                    <div class="ellipsis" project="1">
                      <i class="fa-solid fa-ellipsis-vertical"></i>
                    </div>

                    <div class="edit_menu" project="1">
                      <div>
                        <a
                          class="edit_square"
                          href="#dataworks_title"
                          project="1"
                          >edit <i class="fa-solid fa-pen-to-square"></i
                        ></a>
                      </div>
                      <div>
                        <a onclick="confirmDelete()" class="trash">
                          delete
                          <i class="fa-solid fa-trash"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="projects projects_div" projectToggle="2">
                  <label class="switch_data toggle">
                    <input
                      type="checkbox"
                      id="toggleProject"
                      projectToggle="2"
                    />
                    <span class="switchSlider"> </span>
                  </label>

                  <div class="project_name">
                    <a href="projectdetail.html" class="href">
                      <h3 class="projectname" project="2">SAPAPP</h3>
                      <p>project2</p>
                    </a>

                    <div class="ellipsis" project="2">
                      <i class="fa-solid fa-ellipsis-vertical"></i>
                    </div>

                    <div class="edit_menu" project="2">
                      <div>
                        <a
                          class="edit_square"
                          href="#dataworks_title"
                          project="2"
                          >edit <i class="fa-solid fa-pen-to-square"></i
                        ></a>
                      </div>
                      <div>
                        <a onclick="confirmDelete()" class="trash">
                          delete
                          <i class="fa-solid fa-trash"></i>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <hr />
            <h3 class="dataworks_title">Unmapped Projects</h3>
            <div class="projects_section">
              <div class="projects projects_unmapped">
                <div class="project_name">
                  <a href="projectdetail.html" class="href">
                    <h3 class="data_text projectname" project="3">CSVAPP</h3>
                    <p>Data Sources: 0</p>
                  </a>

                  <div class="ellipsis" project="3">
                    <i class="fa-solid fa-ellipsis-vertical"></i>
                  </div>

                  <div class="edit_menu" project="3">
                    <div>
                      <a class="edit_square" href="#dataworks_title" project="3"
                        >edit <i class="fa-solid fa-pen-to-square"></i
                      ></a>
                    </div>
                    <div>
                      <a onclick="confirmDelete()" class="trash">
                        delete
                        <i class="fa-solid fa-trash"></i>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <hr />

            <h3 class="dataworks_title" id="dataworks_title">
              create new project
              <i class="fa-solid fa-plus" onclick="showForm()"></i>
            </h3>
            <form method="post">
              <input
                type="hidden"
                name="csrfmiddlewaretoken"
                value="9xHbe3tuYtsd0H3tYJt8Cv8avnuVEqKqQAAw8kwDkATcrHqWhesXaCtADy2S2b7C"
              />
              <div class="dataworks_form" id="dataworks_form">
                <p>
                  <label class="required">Project name : </label>
                  <input
                    type="text"
                    id="app_name"
                    name="app_name"
                    placeholder="Type name here"
                    class="projectInput"
                    required
                  />
                </p>

                <div class="btn_div">
                  <input type="submit" value="Add" class="btn signin_btn" />
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <footer id="footer"></footer>
    <script src="nstatic/js/main.js"></script>

    <script>
      $(document).on("click", "#toggleProject", function () {
        var currentdiv = $(this).attr("projectToggle");
        $(".projects_div[projectToggle='" + currentdiv + "']").toggleClass(
          "active"
        );
      });

      function confirmDelete() {
        confirm("Do you want to delete this project?");
        $(".edit_menu").removeClass("active");
      }

      function showForm() {
        $(".dataworks_form").toggleClass("active");
        // $(".dataworks_title i").toggleClass("fa-plus fa-minus");

        if ($(".dataworks_title i").hasClass("fa-minus")) {
          $(".dataworks_title i").removeClass("fa-minus");
          $(".dataworks_title i").addClass("fa-plus");
        } else {
          $(".dataworks_title i").removeClass(" fa-plus");
          $(".dataworks_title i").addClass(" fa-minus");
        }
      }

      $(".ellipsis").click(function (e) {
        e.preventDefault();
        p = $(this).attr("project");
        $(".edit_menu[project='" + p + "']").toggleClass("active");
      });

      $(".edit_square").click(function (e) {
        e.preventDefault();
        p = $(this).attr("project");

        var projname = $(".projectname[project='" + p + "']").html();

        $("#app_name").val(projname);
        $("#dataworks_form").addClass("active");
        // $(".dataworks_title i").addClass("fa-minus");
        if ($(".dataworks_title i").hasClass("fa-minus")) {
          $(".dataworks_title i").removeClass("fa-plus");
          $(".dataworks_title i").addClass("fa-minus");
        } else {
          $(".dataworks_title i").removeClass(" fa-plus");
          $(".dataworks_title i").addClass("fa-minus");
        }
        $(".edit_menu[project='" + p + "']").removeClass("active");

        $(document).scrollTop(600);
      });

      function showDataworksForm() {
        $(".edit_menu").removeClass("active");
      }

      $(window)
        .resize(function () {
          var width = $(window).width();
          var mobileScreen = 450;

          if (width <= mobileScreen) {
            $(".href").attr("href", "#");
          }
        })
        .resize();
    </script>
  </body>
</html>
